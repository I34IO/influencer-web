<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Placeholder Image Test</title>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
      background: #f9fafb;
    }
    h1 {
      color: #111827;
      margin-bottom: 10px;
    }
    .subtitle {
      color: #6b7280;
      margin-bottom: 40px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }
    .card {
      background: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      text-align: center;
    }
    .avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      margin: 0 auto 15px;
      display: block;
      object-fit: cover;
      border: 3px solid #e5e7eb;
    }
    .name {
      font-weight: 600;
      color: #111827;
      margin-bottom: 5px;
    }
    .status {
      font-size: 14px;
      color: #6b7280;
    }
    .section-title {
      font-size: 20px;
      font-weight: 600;
      color: #111827;
      margin: 40px 0 20px;
    }
    .badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 500;
      margin-top: 8px;
    }
    .badge-success {
      background: #d1fae5;
      color: #065f46;
    }
    .badge-warning {
      background: #fef3c7;
      color: #92400e;
    }
  </style>
</head>
<body>
  <h1>ðŸŽ¨ Placeholder Image System Test</h1>
  <p class="subtitle">Testing automatic placeholder generation for influencers without images</p>

  <h2 class="section-title">âœ… With Placeholder (No imageUrl)</h2>
  <div class="grid" id="placeholders"></div>

  <h2 class="section-title">ðŸ“¸ With Real Images</h2>
  <div class="grid" id="real-images"></div>

  <script>
    // Utility function (same as in the app)
    function getPlaceholderAvatar(name, size = 200) {
      const encodedName = encodeURIComponent(name || 'User');
      
      const colors = [
        '4F46E5', '7C3AED', 'EC4899', 'EF4444', 'F59E0B',
        '10B981', '3B82F6', '8B5CF6', '06B6D4', 'F97316'
      ];
      
      let hash = 0;
      for (let i = 0; i < name.length; i++) {
        hash = name.charCodeAt(i) + ((hash << 5) - hash);
      }
      const colorIndex = Math.abs(hash) % colors.length;
      const backgroundColor = colors[colorIndex];
      
      return `https://ui-avatars.com/api/?name=${encodedName}&size=${size}&background=${backgroundColor}&color=fff&bold=true&format=png`;
    }

    function getImageWithFallback(imageUrl, name, size = 200) {
      if (imageUrl && imageUrl.trim() !== '') {
        return imageUrl;
      }
      return getPlaceholderAvatar(name, size);
    }

    // Test data - influencers without images
    const influencersWithoutImages = [
      { name: 'Norman', niche: 'Comedy' },
      { name: 'Michou', niche: 'Gaming' },
      { name: 'Domingo', niche: 'Gaming' },
      { name: 'Orane', niche: 'Beauty' },
      { name: 'Squeezie', niche: 'Gaming' },
      { name: 'Cyprien', niche: 'Comedy' },
      { name: 'EnjoyPhoenix', niche: 'Beauty' },
      { name: 'Tibo InShape', niche: 'Fitness' },
    ];

    // Test data - influencers with images
    const influencersWithImages = [
      { name: 'John Doe', niche: 'Tech', imageUrl: 'https://i.pravatar.cc/200?img=1' },
      { name: 'Jane Smith', niche: 'Fashion', imageUrl: 'https://i.pravatar.cc/200?img=5' },
      { name: 'Mike Johnson', niche: 'Sports', imageUrl: 'https://i.pravatar.cc/200?img=12' },
      { name: 'Sarah Williams', niche: 'Food', imageUrl: 'https://i.pravatar.cc/200?img=16' },
    ];

    // Render placeholders
    const placeholdersContainer = document.getElementById('placeholders');
    influencersWithoutImages.forEach(inf => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <img src="${getPlaceholderAvatar(inf.name, 200)}" alt="${inf.name}" class="avatar">
        <div class="name">${inf.name}</div>
        <div class="status">${inf.niche}</div>
        <span class="badge badge-warning">No Image</span>
      `;
      placeholdersContainer.appendChild(card);
    });

    // Render real images
    const realImagesContainer = document.getElementById('real-images');
    influencersWithImages.forEach(inf => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <img src="${getImageWithFallback(inf.imageUrl, inf.name, 200)}" alt="${inf.name}" class="avatar">
        <div class="name">${inf.name}</div>
        <div class="status">${inf.niche}</div>
        <span class="badge badge-success">Has Image</span>
      `;
      realImagesContainer.appendChild(card);
    });
  </script>
</body>
</html>
